name: 🌒 Deploy & Quality 

on:
 push:
   branches:
  
      - main
 workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write 


concurrency:
 group: ${{ github.workflow }}-${{ github.ref }}
 cancel-in-progress: true

jobs:
  deploy:
    name: 🚀(rocket) Deploy to Github pages
    runs-on: ubuntu-latest
    if: github.ref == 'refs/head/main'
    outputs:
      page_url: ${{steps.deployment.outputs.page_url }}

    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }} 
      steps:
       - name: 🏒 checkout code
         uses: action/checkout@v4
         
         -name: ®️ setup pages
         uses: actions/configure-pages@v4

       - name: 🆎 upload artifact 
         uses: actions/upload-pages-artifact@v3
         with:
          path: "."
          
       - name: 🆚 deplay to Github pages
         id: deplayment 
         uses: actions/deplay-pages@v4
        